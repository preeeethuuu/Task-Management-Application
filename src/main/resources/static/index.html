<!DOCTYPE html>
<html>
<head>
    <title>Todo App</title>
    <style>
        body {
            font-family: Arial;
            background-color: #f2f2f2;
            padding: 20px;
        }
        input, button {
            padding: 8px;
            margin: 5px;
        }
        .todo {
            background: white;
            padding: 10px;
            margin-top: 10px;
            border-radius: 5px;
        }
    </style>
</head>
<body>

<h2> Todo Application  </h2>

<input type="text" id="title" placeholder="Enter title">
<input type="text" id="description" placeholder="Enter description">
<button onclick="addTodo()">Add Todo</button>

<h3>Todo List</h3>
<div id="todoList"></div>

<script>
    const API_URL = "http://localhost:8080/todo";

    function loadTodos() {
        fetch(API_URL)
            .then(response => response.json())
            .then(data => {
                let html = "";
                data.forEach(todo => {
                    html += `
                        <div class="todo">
                            <b>${todo.title}</b><br>
                            ${todo.description}<br>
                            Status: ${todo.completed ? "Done" : "Pending"}<br>
                            <button onclick="deleteTodo(${todo.id})">Delete</button>
                        </div>
                    `;
                });
                document.getElementById("todoList").innerHTML = html;
            });
    }

    function addTodo() {
        let title = document.getElementById("title").value;
        let description = document.getElementById("description").value;

        fetch(API_URL + "/add", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
                title: title,
                description: description,
                completed: false
            })
        }).then(() => {
            loadTodos();
        });
    }

    function deleteTodo(id) {
        fetch(API_URL + "/delete/" + id, {
            method: "DELETE"
        }).then(() => {
            loadTodos();
        });
    }

    loadTodos();
</script>

</body>
</html>
